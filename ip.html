<!DOCTYPE html>
<html>
 <head>
    <title>unsafe fetch</title><meta charset="utf-8">
    <style>h1 {cursor: pointer}</style>
 </head>
 <body>
     <h1>click me</h1>

    <div id="list"></div>
    <script>{
        document.querySelector('h1').addEventListener('click', async e => {
            e.target.textContent = 'Отправлено!';

            const URI = 'https://kodaktor.ru/j/ips';

            const users = await fetch(URI).then(x => x.json());
            console.log(users);
            const result = e.target.textContent = 'Результат (Login): ';

            let div = document.getElementById('list');
            let ol = document.createElement('ol');
            div.appendChild(ol);

            users.forEach(({ip})=> {
                var li = document.createElement('li');
                li.innerHTML = 'IP - ' + ip;
                ol.appendChild(li);
            });
        });
    }</script>
 </body>
</html>
