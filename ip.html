<!DOCTYPE html>
<html>
 <head>
    <title>unsafe fetch</title><meta charset="utf-8">
    <style>h1 {cursor: pointer}</style>
 </head>
 <body>
     <h1>click me</h1>

    <div id="list"></div>
    <script>{
        document.querySelector('h1').addEventListener('click', async e => {
            e.target.textContent = 'Отправлено!';

            const URI = 'https://kodaktor.ru/j/ips';

            const users = await fetch(URI).then(x => x.json());

            const result = e.target.textContent = 'Результат (Login): ';

            let div = document.getElementById('list');
            let ol = document.createElement('ol');
            div.appendChild(ol);

            // Сортировка по возростанию
            let sortable = [];
            for (let key in users) {
                sortable.push([users[key]]);
            }
            console.log(sortable);
            let users2 = sortable.sort(function(a, b) {
                return b[0].ip - a[0].ip;
            });


            users2.forEach(function(item) {
                let li = document.createElement('li');
                li.innerHTML = 'IP - ' + item.ip;
                ol.appendChild(li);
            });
        });
    }</script>
 </body>
</html>
